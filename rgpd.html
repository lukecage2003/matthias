<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Politique de Confidentialité - Tech Shield</title>
    <link rel="stylesheet" href="styles.css">
    <script defer src="script.js"></script>
    <script defer src="cookie-consent.js"></script>
    <style>
        .rgpd-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .rgpd-section {
            margin-bottom: 30px;
        }
        .rgpd-form {
            background-color: #f5f5f5;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .form-group textarea {
            height: 100px;
        }
        .btn-submit {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .btn-submit:hover {
            background-color: #45a049;
        }
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        .alert-success {
            background-color: #dff0d8;
            color: #3c763d;
            border: 1px solid #d6e9c6;
        }
        .alert-danger {
            background-color: #f2dede;
            color: #a94442;
            border: 1px solid #ebccd1;
        }
    </style>
</head>
<body>
    <header class="fixed-header">
        <div class="burger-menu">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
        </div>
        <div class="logo" onclick="scrollToTop()">
            <img src="logo.png" alt="Tech Shield Logo">
        </div>
        <nav>
            <ul class="nav-links">
                <li><a href="index.html">Accueil</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#portfolio">Nos Portfolio</a></li>
                <li><a href="#realizations">Mes Réalisations</a></li>
                <li><a href="#about">À propos de nous</a></li>
                <li><a href="rgpd.html" class="active">Confidentialité</a></li>
                <li><a href="login.html">Connexion</a></li>
            </ul>
        </nav>
    </header>

    <main class="rgpd-container">
        <h1>Politique de Confidentialité et Gestion des Données</h1>
        
        <div class="rgpd-section">
            <h2>Utilisation des Cookies</h2>
            <p>Notre site utilise des cookies pour améliorer votre expérience de navigation. Les cookies sont de petits fichiers texte stockés sur votre appareil qui nous aident à :</p>
            <ul>
                <li><strong>Cookies nécessaires</strong> : Indispensables au fonctionnement du site (session, sécurité)</li>
                <li><strong>Cookies fonctionnels</strong> : Mémoriser vos préférences et personnaliser votre expérience</li>
                <li><strong>Cookies d'analyse</strong> : Comprendre comment vous utilisez notre site pour l'améliorer</li>
                <li><strong>Cookies marketing</strong> : Vous proposer des publicités pertinentes sur d'autres sites</li>
            </ul>
            <p>Vous pouvez à tout moment modifier vos préférences en matière de cookies en cliquant sur "Gérer mes cookies" en bas de page.</p>
            
            <div class="rgpd-form">
                <h3>Gérer mes préférences de cookies</h3>
                <p>Cliquez sur le bouton ci-dessous pour ouvrir le panneau de gestion des cookies et personnaliser vos préférences.</p>
                <button id="open-cookie-settings" class="btn-submit">Gérer mes cookies</button>
            </div>
        </div>
        
        <div class="rgpd-section">
            <h2>Vos Droits RGPD</h2>
            <p>Conformément au Règlement Général sur la Protection des Données (RGPD), vous disposez des droits suivants concernant vos données personnelles :</p>
            <ul>
                <li><strong>Droit d'accès</strong> : Vous pouvez demander une copie des données personnelles que nous détenons à votre sujet.</li>
                <li><strong>Droit de rectification</strong> : Vous pouvez demander la correction de données inexactes ou incomplètes.</li>
                <li><strong>Droit à l'effacement</strong> : Vous pouvez demander la suppression de vos données personnelles dans certaines circonstances.</li>
                <li><strong>Droit à la limitation du traitement</strong> : Vous pouvez demander la limitation du traitement de vos données.</li>
                <li><strong>Droit à la portabilité des données</strong> : Vous pouvez demander le transfert de vos données à un autre service.</li>
                <li><strong>Droit d'opposition</strong> : Vous pouvez vous opposer au traitement de vos données à des fins de marketing direct.</li>
            </ul>
        </div>

        <div class="rgpd-section">
            <h2>Données Collectées</h2>
            <p>Tech Shield collecte et traite les types de données suivants :</p>
            <ul>
                <li><strong>Données d'identification</strong> : Nom, prénom, adresse email</li>
                <li><strong>Données de connexion</strong> : Adresse IP, date et heure de connexion, agent utilisateur</li>
                <li><strong>Données de CV</strong> : Informations professionnelles et personnelles fournies dans votre CV</li>
                <li><strong>Données de communication</strong> : Messages envoyés via notre formulaire de contact</li>
            </ul>
        </div>

        <div class="rgpd-section">
            <h2>Finalités du Traitement</h2>
            <p>Nous utilisons vos données personnelles pour les finalités suivantes :</p>
            <ul>
                <li>Gestion de votre compte et authentification</li>
                <li>Traitement de vos candidatures</li>
                <li>Communication concernant vos demandes</li>
                <li>Amélioration de nos services</li>
                <li>Sécurisation de notre plateforme</li>
            </ul>
        </div>

        <div class="rgpd-section">
            <h2>Conservation des Données</h2>
            <p>Vos données personnelles sont conservées pour une durée limitée :</p>
            <ul>
                <li>Données de compte : Jusqu'à la suppression de votre compte ou 3 ans après votre dernière activité</li>
                <li>Données de CV : 2 ans après votre dernière candidature</li>
                <li>Données de connexion : 1 an maximum à des fins de sécurité</li>
                <li>Données de messages : 3 ans maximum après votre dernier contact</li>
            </ul>
        </div>

        <div class="rgpd-section">
            <h2>Demande de Suppression de Données</h2>
            <p>Vous pouvez demander la suppression de vos données personnelles en remplissant le formulaire ci-dessous. Nous traiterons votre demande dans un délai maximum de 30 jours.</p>
            
            <div class="rgpd-form">
                <div id="form-response" style="display: none;"></div>
                
                <form id="data-deletion-form">
                    <div class="form-group">
                        <label for="email">Adresse Email*</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="deletion-type">Type de Suppression*</label>
                        <select id="deletion-type" name="deletion-type" required>
                            <option value="">Sélectionnez une option</option>
                            <option value="account">Compte complet</option>
                            <option value="cv">CV et données de candidature</option>
                            <option value="messages">Messages uniquement</option>
                            <option value="logs">Données de connexion</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="reason">Motif de la demande (optionnel)</label>
                        <textarea id="reason" name="reason"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="verification-code">Code de Vérification*</label>
                        <input type="text" id="verification-code" name="verification-code" required>
                        <p><small>Un code de vérification sera envoyé à votre adresse email après soumission du formulaire.</small></p>
                    </div>
                    
                    <div class="form-group">
                        <input type="checkbox" id="consent" name="consent" required>
                        <label for="consent">Je confirme être le propriétaire de ces données et souhaite leur suppression*</label>
                    </div>
                    
                    <button type="submit" class="btn-submit">Soumettre la demande</button>
                </form>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2023 Tech Shield. Tous droits réservés.</p>
    </footer>

    <script src="rgpd.js"></script>
    <script>
        // Ajouter un gestionnaire d'événements pour le bouton de gestion des cookies
        document.addEventListener('DOMContentLoaded', function() {
            const openCookieSettingsBtn = document.getElementById('open-cookie-settings');
            if (openCookieSettingsBtn) {
                openCookieSettingsBtn.addEventListener('click', function() {
                    // Vérifier si la bannière existe déjà
                    const banner = document.getElementById('cookie-consent-banner');
                    if (banner) {
                        banner.style.display = 'block';
                        // Afficher les préférences
                        const preferences = document.getElementById('cookie-preferences');
                        if (preferences) {
                            preferences.style.display = 'block';
                        }
                    } else {
                        // Initialiser et afficher la bannière avec les préférences ouvertes
                        window.cookieConsent.init();
                        setTimeout(() => {
                            const newPreferences = document.getElementById('cookie-preferences');
                            if (newPreferences) {
                                newPreferences.style.display = 'block';
                            }
                        }, 100);
                    }
                });
            }
        });
    </script>
</body>
</html>