<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tech Shield - Interface d'administration">
    <title>Tech Shield - Administration</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin-styles.css">
    <link rel="stylesheet" href="security-dashboard.css">
    <link rel="stylesheet" href="alert-styles.css">
    <link rel="stylesheet" href="logs-styles.css">
    <script defer src="script.js"></script>
    <script defer src="auth.js"></script>
    <script defer src="twofa.js"></script>
    <script defer src="csrf.js"></script>
    <script defer src="ip-whitelist.js"></script>
    <!-- Script de permissions utilisateurs supprimé -->
    <script defer src="security-dashboard.js"></script>
    <script defer src="security-config.js"></script>
    <script defer src="security-integration.js"></script>
    <script defer src="security-monitor.js"></script>
    <script defer src="security-logs.js"></script>
    <script defer src="advanced-security-logs.js"></script>
    <script defer src="security-system-init.js"></script>
    <script defer src="security-admin.js"></script>
    <script defer src="admin.js"></script>
    

</head>
<body>
    <header class="fixed-header">
        <div class="burger-menu" aria-label="Menu">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </div>
        <div class="logo" onclick="scrollToTop()" aria-label="Retour en haut">
            <img src="logo.png" alt="Tech Shield Logo">
        </div>
        <nav>
            <ul class="nav-links">
                <li><a href="index.html">Accueil</a></li>
                <li><a href="admin.html" class="active">Administration</a></li>
                <li><a href="#" id="logoutBtn">Déconnexion</a></li>
            </ul>
        </nav>
    </header>

    <main class="admin-container">

        <nav class="admin-nav">
            <ul>
                <li><a href="#" class="active" data-tab="security">Sécurité</a></li>
            </ul>
        </nav>

        <div class="admin-content">
            <!-- Security Tab -->
            <div id="security" class="admin-tab active">
                <div class="security-tabs">
                    <div class="tabs-header">
                        <button class="tab-btn active" data-tab="ip-whitelist">Liste blanche d'IP</button>
                        <button class="tab-btn" data-tab="security-logs">Logs de sécurité</button>
                    </div>
                    <div class="tabs-content">
                        <div id="ip-whitelist" class="tab-content active">
                            <h3>Gestion de la liste blanche d'adresses IP</h3>
                            <div class="whitelist-mode"></div>
                            <div class="add-ip-form">
                                <h4>Ajouter une adresse IP</h4>
                                <form id="addIPForm">
                                    <div class="form-row">
                                        <input type="text" id="ipAddress" placeholder="Adresse IP" required>
                                        <input type="text" id="ipDescription" placeholder="Description" required>
                                    </div>
                                    <div class="form-row">
                                        <label>
                                            <input type="checkbox" id="permanentIP"> Permanent
                                        </label>
                                        <button type="submit">Ajouter</button>
                                    </div>
                                    <input type="hidden" name="csrf_token">
                                </form>
                            </div>
                            <div class="ip-list">
                                <p>Chargement de la liste blanche d'IP...</p>
                            </div>
                        </div>
                        
                        <div id="security-logs" class="tab-content">
                            <h3>Journaux de sécurité</h3>
                            
                            <!-- Statistiques de sécurité -->
                            <div class="security-stats">
                                <div class="stat-card">
                                    <p class="stat-label">Connexions réussies</p>
                                    <div class="stat-value" id="successLogins">0</div>
                                </div>
                                <div class="stat-card">
                                    <p class="stat-label">Échecs de connexion</p>
                                    <div class="stat-value" id="failedLogins">0</div>
                                </div>
                                <div class="stat-card">
                                    <p class="stat-label">Activités suspectes</p>
                                    <div class="stat-value" id="suspiciousActivities">0</div>
                                </div>
                                <div class="stat-card">
                                    <p class="stat-label">Alertes actives</p>
                                    <div class="stat-value" id="activeAlerts">0</div>
                                </div>
                            </div>
                            
                            <!-- Alertes de sécurité -->
                            <div class="logs-container">
                                <div class="logs-header">
                                    <h3>Alertes de sécurité</h3>
                                </div>
                                <div class="security-alerts" id="securityAlerts">
                                    <p class="no-data">Aucune alerte active</p>
                                </div>
                            </div>
                            
                            <!-- Logs de connexion -->
                            <div class="logs-container">
                                <div class="logs-header">
                                    <h3>Journaux de connexion</h3>
                                </div>
                                
                                <!-- Filtres -->
                                <div class="logs-filters">
                                    <div class="filter-group">
                                        <label for="logTypeFilter">Type:</label>
                                        <select id="logTypeFilter">
                                            <option value="all">Tous</option>
                                            <option value="success">Réussite</option>
                                            <option value="failure">Échec</option>
                                            <option value="suspicious">Suspect</option>
                                            <option value="warning">Avertissement</option>
                                            <option value="critical">Critique</option>
                                            <option value="info">Information</option>
                                        </select>
                                    </div>
                                    <div class="filter-group">
                                        <label for="logDateFilter">Période:</label>
                                        <select id="logDateFilter">
                                            <option value="all">Tout</option>
                                            <option value="today">Aujourd'hui</option>
                                            <option value="yesterday">Hier</option>
                                            <option value="week">7 derniers jours</option>
                                            <option value="month">30 derniers jours</option>
                                        </select>
                                    </div>
                                    <div class="filter-group">
                                        <label for="logUserFilter">Utilisateur:</label>
                                        <input type="text" id="logUserFilter" placeholder="Email utilisateur">
                                    </div>
                                    <div class="filter-group">
                                        <label for="logIPFilter">Adresse IP:</label>
                                        <input type="text" id="logIPFilter" placeholder="Adresse IP">
                                    </div>
                                    <div class="filter-buttons">
                                        <button id="applyLogFilters" class="apply-filters">Appliquer</button>
                                        <button id="resetLogFilters" class="reset-filters">Réinitialiser</button>
                                    </div>
                                </div>
                                
                                <!-- Tableau des logs -->
                                <div class="logs-table-container">
                                    <table class="logs-table" id="securityLogsTable">
                                        <thead>
                                            <tr>
                                                <th>Date/Heure</th>
                                                <th>Utilisateur</th>
                                                <th>Adresse IP</th>
                                                <th>Statut</th>
                                                <th>Détails</th>
                                            </tr>
                                        </thead>
                                        <tbody id="securityLogsTableBody">
                                            <tr>
                                                <td colspan="5" class="no-data">Chargement des logs...</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                
                                <!-- Actions sur les logs -->
                                <div class="logs-footer">
                                    <div class="logs-actions">
                                        <select id="exportFormat">
                                            <option value="json">JSON</option>
                                            <option value="csv">CSV</option>
                                            <option value="siem">SIEM</option>
                                        </select>
                                        <button id="exportLogs" class="export-logs">Exporter</button>
                                        <button id="clearLogs" class="clear-logs">Effacer tous les logs</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            

            

        </div>
    </main>

    <footer>
        <p>&copy; Tech Shield. Tous droits réservés.</p>
    </footer>
</body>
</html>